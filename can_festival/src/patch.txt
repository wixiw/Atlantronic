Index: b/drivers/unix/unix.c
===================================================================
--- a/drivers/unix/unix.c       2010-11-30 12:38:33.000000000 +0100
+++ b/drivers/unix/unix.c       2010-11-30 12:39:00.000000000 +0100
@@ -25,8 +25,8 @@
 #include <stdlib.h>
 #else
 #include <linux/module.h>
-#endif
 #include <linux/delay.h>
+#endif
 
 #ifndef NOT_USE_DYNAMIC_LOADING
 #define DLL_CALL(funcname) (* funcname##_driver)
Index: b/include/can_driver.h
===================================================================
--- a/include/can_driver.h      2010-11-30 12:34:29.000000000 +0100
+++ b/include/can_driver.h      2010-11-30 12:39:45.000000000 +0100
@@ -46,12 +46,13 @@
 };
 
 #ifndef DLL_CALL
-#if !defined(WIN32) || defined(__CYGWIN__)
+#if !defined(WIN32) || defined(__CYGWIN__) || defined(__MINGW32__)
 #define DLL_CALL(funcname) funcname##_driver
 #else
 //Windows was missing the definition of the calling convention
 #define DLL_CALL(funcname) __stdcall funcname##_driver
 #endif
+#endif
 
 #ifndef FCT_PTR_INIT
 #define FCT_PTR_INIT

