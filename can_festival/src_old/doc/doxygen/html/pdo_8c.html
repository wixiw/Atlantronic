<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CanFestival: src/pdo.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>src/pdo.c File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;pdo.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="objacces_8h_source.html">objacces.h</a>&quot;</code><br/>
<code>#include &quot;canfestival.h&quot;</code><br/>
<code>#include &quot;sysdep.h&quot;</code><br/>
<div class="dynheader">
Include dependency graph for pdo.c:</div>
<div class="dyncontent">
<div class="center"><img src="pdo_8c__incl.png" border="0" usemap="#src_2pdo_8c" alt=""/></div>
<map name="src_2pdo_8c" id="src_2pdo_8c">
<area shape="rect" id="node3" href="pdo_8h_source.html" title="pdo.h" alt="" coords="696,86,749,117"/><area shape="rect" id="node19" href="objacces_8h.html" title="Responsible for accessing the object dictionary." alt="" coords="5,246,91,277"/><area shape="rect" id="node52" href="canfestival_8h_source.html" title="canfestival.h" alt="" coords="1101,86,1197,117"/><area shape="rect" id="node9" href="can_8h_source.html" title="can.h" alt="" coords="1115,246,1168,277"/><area shape="rect" id="node12" href="data_8h_source.html" title="data.h" alt="" coords="693,166,752,197"/><area shape="rect" id="node22" href="sdo_8h_source.html" title="sdo.h" alt="" coords="1037,246,1091,277"/><area shape="rect" id="node32" href="states_8h_source.html" title="states.h" alt="" coords="893,246,963,277"/><area shape="rect" id="node40" href="nmtSlave_8h_source.html" title="nmtSlave.h" alt="" coords="240,246,328,277"/><area shape="rect" id="node44" href="nmtMaster_8h_source.html" title="nmtMaster.h" alt="" coords="776,246,869,277"/><area shape="rect" id="node47" href="emcy_8h.html" title="Declarations of the functions that manage EMCY (emergency) messages." alt="" coords="352,246,416,277"/><area shape="rect" id="node24" href="timer_8h_source.html" title="timer.h" alt="" coords="1157,326,1219,357"/><area shape="rect" id="node55" href="can__driver_8h_source.html" title="can_driver.h" alt="" coords="1103,166,1196,197"/><area shape="rect" id="node60" href="timers__driver_8h_source.html" title="timers_driver.h" alt="" coords="1293,246,1400,277"/></map>
</div>

<p><a href="pdo_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdo_8c.html#a889902163641f6fc8039550cb11ec320">buildPDO</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 numPdo, <a class="el" href="structMessage.html">Message</a> *pdo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy all the data to transmit in process_var Prepare the PDO defined at index to be sent *pwCobId : returns the value of the cobid. (subindex 1).  <a href="#a889902163641f6fc8039550cb11ec320"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pdo.html#ga7fdcdb094e5d1a48b8033ebb9f968605">sendPDOrequest</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS16 RPDOIndex)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transmit a PDO request frame on the network to the slave.  <a href="group__pdo.html#ga7fdcdb094e5d1a48b8033ebb9f968605"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdo_8c.html#aae7d661cd3ef7adf93a0d08fdb15b7f2">proceedPDO</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, <a class="el" href="structMessage.html">Message</a> *m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute a PDO frame reception bus_id is hardware dependant.  <a href="#aae7d661cd3ef7adf93a0d08fdb15b7f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdo_8c.html#ae468510c9f77f502207d961d26389918">CopyBits</a> (UNS8 NbBits, UNS8 *SrcByteIndex, UNS8 SrcBitIndex, UNS8 SrcBigEndian, UNS8 *DestByteIndex, UNS8 DestBitIndex, UNS8 DestBigEndian)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdo_8c.html#ac121b9c4eca3646cdd02e1ad7b0a44ae">sendPDOevent</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by the application to signal changes in process data that could be mapped to some TPDO. This do not necessarily imply PDO emission. Function iterates on all TPDO and look TPDO transmit type and content change before sending it.  <a href="#ac121b9c4eca3646cdd02e1ad7b0a44ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pdo.html#gae983f9075bd04d0afff7391891a0d7c3">PDOEventTimerAlarm</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS32 pdoNum)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set timer for PDO event.  <a href="group__pdo.html#gae983f9075bd04d0afff7391891a0d7c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pdo.html#ga6eac02502a8822815b8324fdb9cbb6dd">PDOInhibitTimerAlarm</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS32 pdoNum)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inhibit timer for PDO event.  <a href="group__pdo.html#ga6eac02502a8822815b8324fdb9cbb6dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pdo.html#ga95c3686cda4e9e6f7c847d2d0bb88fe8">_sendPDOevent</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 isSyncEvent)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function iterates on all TPDO and look TPDO transmit type and content change before sending it.  <a href="group__pdo.html#ga95c3686cda4e9e6f7c847d2d0bb88fe8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UNS32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdo_8c.html#a3e9718d5f111be6a018a94c681f7ba07">TPDO_Communication_Parameter_Callback</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, const indextable *OD_entry, UNS8 bSubindex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdo_8c.html#a474688163fc6e1ffe47d56143a051714">PDOInit</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize PDO feature.  <a href="#a474688163fc6e1ffe47d56143a051714"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pdo_8c.html#a745aea83aebbc1ec052a98f18586cb35">PDOStop</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop PDO feature.  <a href="#a745aea83aebbc1ec052a98f18586cb35"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="author"><dt><b>Author:</b></dt><dd>Edouard TISSERANT and Francis DUPIN </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>Tue Jun 5 09:32:32 2007 </dd></dl>

<p>Definition in file <a class="el" href="pdo_8c_source.html">pdo.c</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a889902163641f6fc8039550cb11ec320"></a><!-- doxytag: member="pdo.c::buildPDO" ref="a889902163641f6fc8039550cb11ec320" args="(CO_Data *d, UNS8 numPdo, Message *pdo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 buildPDO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>numPdo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMessage.html">Message</a> *&nbsp;</td>
          <td class="paramname"> <em>pdo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy all the data to transmit in process_var Prepare the PDO defined at index to be sent *pwCobId : returns the value of the cobid. (subindex 1). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TPDO_com</em>&nbsp;</td><td>TPDO communication parameters OD entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TPDO_map</em>&nbsp;</td><td>TPDO mapping parameters OD entry</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="pdo_8c_source.html#l00049">49</a> of file <a class="el" href="pdo_8c_source.html">pdo.c</a>.</p>

<p>References <a class="el" href="can_8h_source.html#l00045">Message::cob_id</a>, <a class="el" href="pdo_8c_source.html#l00431">CopyBits()</a>, <a class="el" href="can_8h_source.html#l00048">Message::data</a>, <a class="el" href="objacces_8h_source.html#l00145">getODentry</a>, <a class="el" href="can_8h_source.html#l00047">Message::len</a>, and <a class="el" href="can_8h_source.html#l00046">Message::rtr</a>.</p>

<p>Referenced by <a class="el" href="pdo_8c_source.html#l00616">_sendPDOevent()</a>, and <a class="el" href="pdo_8c_source.html#l00170">proceedPDO()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pdo_8c_a889902163641f6fc8039550cb11ec320_cgraph.png" border="0" usemap="#pdo_8c_a889902163641f6fc8039550cb11ec320_cgraph" alt=""/></div>
<map name="pdo_8c_a889902163641f6fc8039550cb11ec320_cgraph" id="pdo_8c_a889902163641f6fc8039550cb11ec320_cgraph">
<area shape="rect" id="node3" href="pdo_8c.html#ae468510c9f77f502207d961d26389918" title="CopyBits" alt="" coords="131,5,205,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae468510c9f77f502207d961d26389918"></a><!-- doxytag: member="pdo.c::CopyBits" ref="ae468510c9f77f502207d961d26389918" args="(UNS8 NbBits, UNS8 *SrcByteIndex, UNS8 SrcBitIndex, UNS8 SrcBigEndian, UNS8 *DestByteIndex, UNS8 DestBitIndex, UNS8 DestBigEndian)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CopyBits </td>
          <td>(</td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>NbBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8 *&nbsp;</td>
          <td class="paramname"> <em>SrcByteIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>SrcBitIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>SrcBigEndian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8 *&nbsp;</td>
          <td class="paramname"> <em>DestByteIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>DestBitIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>DestBigEndian</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NbBits</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SrcByteIndex</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SrcBitIndex</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SrcBigEndian</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DestByteIndex</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DestBitIndex</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DestBigEndian</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pdo_8c_source.html#l00431">431</a> of file <a class="el" href="pdo_8c_source.html">pdo.c</a>.</p>

<p>Referenced by <a class="el" href="pdo_8c_source.html#l00049">buildPDO()</a>, and <a class="el" href="pdo_8c_source.html#l00170">proceedPDO()</a>.</p>

</div>
</div>
<a class="anchor" id="a474688163fc6e1ffe47d56143a051714"></a><!-- doxytag: member="pdo.c::PDOInit" ref="a474688163fc6e1ffe47d56143a051714" args="(CO_Data *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDOInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize PDO feature. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*d</em>&nbsp;</td><td>Pointer on a CAN object data structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pdo_8c_source.html#l00785">785</a> of file <a class="el" href="pdo_8c_source.html">pdo.c</a>.</p>

<p>References <a class="el" href="pdo_8c_source.html#l00616">_sendPDOevent()</a>, and <a class="el" href="objacces_8c_source.html#l00265">scanIndexOD()</a>.</p>

<p>Referenced by <a class="el" href="states_8c_source.html#l00137">switchCommunicationState()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pdo_8c_a474688163fc6e1ffe47d56143a051714_cgraph.png" border="0" usemap="#pdo_8c_a474688163fc6e1ffe47d56143a051714_cgraph" alt=""/></div>
<map name="pdo_8c_a474688163fc6e1ffe47d56143a051714_cgraph" id="pdo_8c_a474688163fc6e1ffe47d56143a051714_cgraph">
<area shape="rect" id="node3" href="group__pdo.html#ga95c3686cda4e9e6f7c847d2d0bb88fe8" title="Function iterates on all TPDO and look TPDO transmit type and content change before sending it..." alt="" coords="123,5,240,35"/><area shape="rect" id="node9" href="objacces_8h.html#a11e9f24840d05a6a622955b51f91af53" title="Scan the index of object dictionary. Used only by setODentry and getODentry." alt="" coords="131,58,232,89"/><area shape="rect" id="node5" href="pdo_8c.html#a889902163641f6fc8039550cb11ec320" title="Copy all the data to transmit in process_var Prepare the PDO defined at index to be sent *pwCobId : r..." alt="" coords="288,5,365,35"/><area shape="rect" id="node7" href="pdo_8c.html#ae468510c9f77f502207d961d26389918" title="CopyBits" alt="" coords="413,5,488,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a745aea83aebbc1ec052a98f18586cb35"></a><!-- doxytag: member="pdo.c::PDOStop" ref="a745aea83aebbc1ec052a98f18586cb35" args="(CO_Data *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDOStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop PDO feature. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*d</em>&nbsp;</td><td>Pointer on a CAN object data structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pdo_8c_source.html#l00819">819</a> of file <a class="el" href="pdo_8c_source.html">pdo.c</a>.</p>

<p>References <a class="el" href="can_8h_source.html#l00045">Message::cob_id</a>, and <a class="el" href="timer_8c_source.html#l00103">DelAlarm()</a>.</p>

<p>Referenced by <a class="el" href="states_8c_source.html#l00137">switchCommunicationState()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pdo_8c_a745aea83aebbc1ec052a98f18586cb35_cgraph.png" border="0" usemap="#pdo_8c_a745aea83aebbc1ec052a98f18586cb35_cgraph" alt=""/></div>
<map name="pdo_8c_a745aea83aebbc1ec052a98f18586cb35_cgraph" id="pdo_8c_a745aea83aebbc1ec052a98f18586cb35_cgraph">
<area shape="rect" id="node3" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="131,5,205,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae7d661cd3ef7adf93a0d08fdb15b7f2"></a><!-- doxytag: member="pdo.c::proceedPDO" ref="aae7d661cd3ef7adf93a0d08fdb15b7f2" args="(CO_Data *d, Message *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 proceedPDO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMessage.html">Message</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute a PDO frame reception bus_id is hardware dependant. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="pdo_8c_source.html#l00170">170</a> of file <a class="el" href="pdo_8c_source.html">pdo.c</a>.</p>

<p>References <a class="el" href="pdo_8c_source.html#l00049">buildPDO()</a>, <a class="el" href="can_8h_source.html#l00045">Message::cob_id</a>, <a class="el" href="pdo_8c_source.html#l00431">CopyBits()</a>, <a class="el" href="can_8h_source.html#l00048">Message::data</a>, <a class="el" href="timer_8c_source.html#l00103">DelAlarm()</a>, <a class="el" href="can_8h_source.html#l00047">Message::len</a>, <a class="el" href="pdo_8c_source.html#l00587">PDOEventTimerAlarm()</a>, and <a class="el" href="objacces_8h_source.html#l00234">setODentry</a>.</p>

<p>Referenced by <a class="el" href="states_8c_source.html#l00063">canDispatch()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pdo_8c_aae7d661cd3ef7adf93a0d08fdb15b7f2_cgraph.png" border="0" usemap="#pdo_8c_aae7d661cd3ef7adf93a0d08fdb15b7f2_cgraph" alt=""/></div>
<map name="pdo_8c_aae7d661cd3ef7adf93a0d08fdb15b7f2_cgraph" id="pdo_8c_aae7d661cd3ef7adf93a0d08fdb15b7f2_cgraph">
<area shape="rect" id="node3" href="pdo_8c.html#a889902163641f6fc8039550cb11ec320" title="Copy all the data to transmit in process_var Prepare the PDO defined at index to be sent *pwCobId : r..." alt="" coords="187,5,264,35"/><area shape="rect" id="node5" href="pdo_8c.html#ae468510c9f77f502207d961d26389918" title="CopyBits" alt="" coords="349,31,424,62"/><area shape="rect" id="node8" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="188,109,263,139"/><area shape="rect" id="node10" href="group__pdo.html#gae983f9075bd04d0afff7391891a0d7c3" title="Set timer for PDO event." alt="" coords="151,162,300,193"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac121b9c4eca3646cdd02e1ad7b0a44ae"></a><!-- doxytag: member="pdo.c::sendPDOevent" ref="ac121b9c4eca3646cdd02e1ad7b0a44ae" args="(CO_Data *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 sendPDOevent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by the application to signal changes in process data that could be mapped to some TPDO. This do not necessarily imply PDO emission. Function iterates on all TPDO and look TPDO transmit type and content change before sending it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="pdo_8c_source.html#l00506">506</a> of file <a class="el" href="pdo_8c_source.html">pdo.c</a>.</p>

<p>References <a class="el" href="pdo_8c_source.html#l00616">_sendPDOevent()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pdo_8c_ac121b9c4eca3646cdd02e1ad7b0a44ae_cgraph.png" border="0" usemap="#pdo_8c_ac121b9c4eca3646cdd02e1ad7b0a44ae_cgraph" alt=""/></div>
<map name="pdo_8c_ac121b9c4eca3646cdd02e1ad7b0a44ae_cgraph" id="pdo_8c_ac121b9c4eca3646cdd02e1ad7b0a44ae_cgraph">
<area shape="rect" id="node3" href="group__pdo.html#ga95c3686cda4e9e6f7c847d2d0bb88fe8" title="Function iterates on all TPDO and look TPDO transmit type and content change before sending it..." alt="" coords="165,5,283,35"/><area shape="rect" id="node5" href="pdo_8c.html#a889902163641f6fc8039550cb11ec320" title="Copy all the data to transmit in process_var Prepare the PDO defined at index to be sent *pwCobId : r..." alt="" coords="331,5,408,35"/><area shape="rect" id="node7" href="pdo_8c.html#ae468510c9f77f502207d961d26389918" title="CopyBits" alt="" coords="456,5,531,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e9718d5f111be6a018a94c681f7ba07"></a><!-- doxytag: member="pdo.c::TPDO_Communication_Parameter_Callback" ref="a3e9718d5f111be6a018a94c681f7ba07" args="(CO_Data *d, const indextable *OD_entry, UNS8 bSubindex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS32 TPDO_Communication_Parameter_Callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const indextable *&nbsp;</td>
          <td class="paramname"> <em>OD_entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>bSubindex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OD_entry</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bSubindex</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>always 0 </dd></dl>

<p>Definition at line <a class="el" href="pdo_8c_source.html#l00752">752</a> of file <a class="el" href="pdo_8c_source.html">pdo.c</a>.</p>

<p>References <a class="el" href="timer_8c_source.html#l00103">DelAlarm()</a>, and <a class="el" href="pdo_8c_source.html#l00587">PDOEventTimerAlarm()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pdo_8c_a3e9718d5f111be6a018a94c681f7ba07_cgraph.png" border="0" usemap="#pdo_8c_a3e9718d5f111be6a018a94c681f7ba07_cgraph" alt=""/></div>
<map name="pdo_8c_a3e9718d5f111be6a018a94c681f7ba07_cgraph" id="pdo_8c_a3e9718d5f111be6a018a94c681f7ba07_cgraph">
<area shape="rect" id="node3" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="372,5,447,35"/><area shape="rect" id="node5" href="group__pdo.html#gae983f9075bd04d0afff7391891a0d7c3" title="Set timer for PDO event." alt="" coords="335,58,484,89"/></map>
</div>
</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sat Feb 5 2011 14:13:00 for CanFestival by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
